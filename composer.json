{
    "name": "R2iDrupal/R2iPantheonCircleCI",
    "description": "Install D8 on Pantheon via CircleCI.",
    "type": "project",
    "license": "proprietary",
    "repositories": {
        "drupal": {
            "type": "composer",
            "url": "https://packages.drupal.org/8"
        },
        "npm": {
            "type": "composer",
            "url": "https://asset-packagist.org"
        },
        "lightning": {
            "type": "vcs",
            "url": "https://github.com/acquia/lightning-dev"
        },
        "lift_sdk": {
            "type": "vcs",
            "url": "https://github.com/acquia/lift-sdk-php"
        },
        "flexible_list": {
            "type": "vcs",
            "url": "https://github.com/R2iDrupal/flexible_list"
        },
        "ckeditor_trackchanges": {
            "type": "package",
            "package": {
                "name": "loopindex/ckeditor-track-changes",
                "version": "dev-master",
                "type": "drupal-library",
                "source": {
                    "url": "https://github.com/loopindex/ckeditor-track-changes.git",
                    "type": "git",
                    "reference": "dev-master"
                }
            }
        },
        "ckeditor_notification": {
            "type": "path",
            "url": "packages/ckeditor/notification",
            "options": {
                "symlink": false
            }
        },
        "ckeditor_wordcount": {
            "type": "path",
            "url": "packages/ckeditor/wordcount",
            "options": {
                "symlink": false
            }
        }
    },
    "require": {
        "php": ">=7.0.8",
        "acquia/lightning": "^3.2",
        "bower-asset/masonry": "^4.2",
        "ckeditor/notification": "^4.7",
        "ckeditor/wordcount": "^1.17",
        "composer/installers": "^1.2",
        "cweagans/composer-patches": "^1.6.5",
        "drupal-composer/drupal-scaffold": "^2.0.1",
        "drupal/admin_toolbar": "^1.24",
        "drupal/advagg": "^3.5",
        "drupal/better_formats": "1.x-dev",
        "drupal/bootstrap_sass": "^1.6",
        "drupal/ckwordcount": "^1.0",
        "drupal/config_devel": "^1.2",
        "drupal/config_direct_save": "^1.0",
        "drupal/config_exclude": "1.x-dev",
        "drupal/config_installer": "^1.0",
        "drupal/config_rewrite": "^1.1",
        "drupal/config_split": "^1.3",
        "drupal/config_sync": "^2.0@beta",
        "drupal/config_tools": "^1.0@alpha",
        "drupal/console": "^1.7.0",
        "drupal/content_browser": "^1.0@alpha",
        "drupal/core": "^8.6.2",
        "drupal/devel": "1.x-dev",
        "drupal/easy_breadcrumb": "^1.8",
        "drupal/entity_browser": "^2.0",
        "drupal/entity_browser_block": "^1.0",
        "drupal/entity_reference_revisions": "^1.6",
        "drupal/entity_usage": "^2.0@alpha",
        "drupal/facets": "^1.1",
        "drupal/field_group": "^1.0",
        "drupal/flexible_list": "1.x-dev",
        "drupal/google_analytics": "^2.3",
        "drupal/image_effects": "^2.1",
        "drupal/libraries": "^3.0@alpha",
        "drupal/lite": "^1.4",
        "drupal/mailsystem": "^4.1",
        "drupal/material_admin": "1.x-dev",
        "drupal/material_admin_support": "1.x-dev",
        "drupal/media_entity_video": "^1.0@beta",
        "drupal/message": "^1.0@RC",
        "drupal/message_notify": "^1.0@beta",
        "drupal/moderation_dashboard": "1.x-dev",
        "drupal/moderation_note": "^1.0@beta",
        "drupal/paragraphs": "^1.3",
        "drupal/paragraphs_edit": "^2.0@alpha",
        "drupal/paragraphs_features": "^1.4",
        "drupal/pathologic": "^1.0@alpha",
        "drupal/publication_date": "^2.0@beta",
        "drupal/redirect": "^1.3",
        "drupal/refreshless": "^1.0@alpha",
        "drupal/rules": "^3.0@alpha",
        "drupal/schema_metatag": "^1.3",
        "drupal/search_api_autocomplete": "^1.1",
        "drupal/search_api_solr": "^2.2",
        "drupal/simple_block": "^1.0@beta",
        "drupal/smart_trim": "^1.1",
        "drupal/swiftmailer": "^1.0@beta",
        "drupal/textfield_counter": "^1.6",
        "drupal/tokenuuid": "^1.2",
        "drupal/twig_tweak": "^2.1",
        "drupal/type_style": "1.x-dev",
        "drupal/view_modes_display": "^1.0",
        "drupal/workbench_email": "^1.0@RC",
        "drush-ops/behat-drush-endpoint": "^0.0.5",
        "drush/drush": "^9.0",
        "enyo/dropzone": "^5.5",
        "loopindex/ckeditor-track-changes": "dev-master#a7df5c6b685385713e8aaf2df3f44c82e3bf823a",
        "npm-asset/ckeditor-wordcount-plugin": "^1.17",
        "pantheon-systems/quicksilver-pushback": "~1",
        "rvtraveller/qs-composer-installer": "^1.1",
        "webflo/drupal-core-strict": "^8"
    },
    "require-dev": {
        "behat/behat": "3.*",
        "behat/mink": "^1.7",
        "behat/mink-extension": "^2.2",
        "behat/mink-goutte-driver": "^1.2",
        "drupal/drupal-extension": "^3.1",
        "jcalderonzumba/gastonjs": "^1.0.2",
        "jcalderonzumba/mink-phantomjs-driver": "^0.3.1",
        "mikey179/vfsstream": "^1.2",
        "overtrue/phplint": "^1.1",
        "phpunit/php-code-coverage": "^5.3",
        "phpunit/phpunit": "^6.5",
        "sebastian/version": "^2.0",
        "squizlabs/php_codesniffer": "^3.3",
        "webflo/drupal-core-require-dev": "^8.6.2"
    },
    "conflict": {
        "drupal/drupal": "*"
    },
    "minimum-stability": "dev",
    "prefer-stable": true,
    "autoload": {
        "classmap": [
            "scripts/composer/ScriptHandler.php"
        ]
    },
    "scripts": {
        "build-assets": [
            "@prepare-for-pantheon",
            "composer install --optimize-autoloader --no-dev",
            "npm install",
            "npm run-script build-dist"
        ],
        "lint": "find web/modules/custom web/themes/custom -name '*.php' -exec php -l {} \\;",
        "code-sniff": "echo 'No code sniff step defined.'",
        "unit-test": "echo 'No unit test step defined.'",
        "drupal-scaffold": "DrupalComposer\\DrupalScaffold\\Plugin::scaffold",
        "prepare-for-pantheon": "DrupalProject\\composer\\ScriptHandler::prepareForPantheon",
        "post-install-cmd": [
            "@drupal-scaffold",
            "DrupalProject\\composer\\ScriptHandler::createRequiredFiles"
        ],
        "post-update-cmd": [
            "DrupalProject\\composer\\ScriptHandler::createRequiredFiles",
            "find .circleci/scripts/pantheon/ -type f | xargs chmod 755",
            "find tests/scripts/ -type f | xargs chmod 755"
        ],
        "post-create-project-cmd": [
            "@drupal-scaffold",
            "DrupalProject\\composer\\ScriptHandler::createRequiredFiles"
        ]
    },
    "extra": {
        "installer-paths": {
            "web/core": ["type:drupal-core"],
            "web/modules/contrib/{$name}": ["type:drupal-module"],
            "web/profiles/contrib/{$name}": ["type:drupal-profile"],
            "web/themes/contrib/{$name}": ["type:drupal-theme"],
            "web/libraries/{$name}": [
                "type:drupal-library",
                "type:bower-asset",
                "type:npm-asset"
            ],
            "drush/Commands/{$name}": ["type:drupal-drush"]
        },
        "build-env": {
            "install-cms": [
                "drush site-install standard --account-mail={account-mail} --account-name={account-name} --account-pass={account-pass} --site-mail={site-mail} --site-name={site-name} --yes",
                "drush pm-enable config_direct_save simple_block --yes",
                "drush pm-uninstall block_content --yes"
            ],
            "export-configuration": "drush config-export --yes"
        },
        "drupal-scaffold": {
            "source": "https://raw.githubusercontent.com/pantheon-systems/drops-8-scaffolding/{version}/{path}",
            "includes": [
                "sites/default/default.services.pantheon.preproduction.yml",
                "sites/default/settings.pantheon.php"
            ],
            "excludes": [
                ".csslintrc",
                ".editorconfig",
                ".eslintignore",
                ".eslintrc.json",
                "web.config"
            ]
        },
        "enable-patching": true,
        "patches": {
            "drupal/core": {
                "ConnectionNotDefinedException thrown... | https://www.drupal.org/node/2703669": "https://www.drupal.org/files/issues/node-migration-traits-database-exception-2703669-3.patch",
                "Can we test RefreshLess with simplytest.me? | https://www.drupal.org/node/2695717": "https://www.drupal.org/files/issues/refreshless-alpha3-core-patch-2695717-7.patch",
                "Cached autoloader misses cause failures when missed class becomes available | https://www.drupal.org/node/2776235": "https://www.drupal.org/files/issues/migrate-opcache-missing-class-2776235.patch",
                "Allow exposed-form-in-block for block displays | https://www.drupal.org/node/2681947": "https://www.drupal.org/files/issues/allow-2681947-20_0.patch",
                "Field attachments not bubbled when rendering a saved field in Quick Edit | https://www.drupal.org/node/2851332": "https://www.drupal.org/files/issues/quickedit-render-field-attachments.patch",
                "Fatal error when setMainContent() method is not called (block module not installed) | https://www.drupal.org/node/2819219": "https://www.drupal.org/files/issues/core-fatal_error_main_content_block-2819219-2.patch",
                "Invoke hook after a site install is complete | https://www.drupal.org/node/2924549": "https://www.drupal.org/files/issues/core-post-site-install-hook.patch",
                "Dispatch events for changing content moderation states | https://www.drupal.org/node/2873287": "https://www.drupal.org/files/issues/2018-08-15/2873287-48.patch",
                "Fatal error: Call to a member function url() on null | https://www.drupal.org/project/drupal/issues/2565247": "https://www.drupal.org/files/issues/member-function-url-fix-2565247-4.patch",
                "Muted attribute not working for Video file | https://www.drupal.org/project/drupal/issues/2969691": "https://www.drupal.org/files/issues/2018-07-07/drupal-fix-attributes-filemediaformatterbase-2969691-4.patch",
                "Broken title in modal dialog when title is a render array | https://www.drupal.org/project/drupal/issues/2663316": "https://www.drupal.org/files/issues/2018-07-06/2663316-52.patch"
            },
            "drupal/acquia_connector": {
                "Fix deprecated solarium plugin | https://www.drupal.org/project/acquia_connector/issues/2660402": "https://www.drupal.org/files/issues/2018-05-08/2660402-6.patch"
            },
            "drupal/admin_toolbar": {
                "Remove execute PHP feature. | https://www.drupal.org/project/admin_toolbar/issues/3009193" : "https://www.drupal.org/files/issues/2018-11-26/admin_toolbar-No_more_execute_php_feature-3009193-13-8.x.patch"
            },
            "drupal/adminimal_admin_toolbar": {
                "Support Outside In navbar changes with new quickedit button styling | https://www.drupal.org/node/2826670": "https://www.drupal.org/files/issues/2826670-adminimal-admin-toolbar-outside-in-styles.patch"
            },
            "drupal/block_class": {
                "Add support for page manager. | http://drupal.org/node/2509142": "https://www.drupal.org/files/issues/add-page-manager-support-2509142-2.patch"
            },
            "drupal/config_rewrite": {
                "Stop creating config during rewrites of optional or non existing config | https://www.drupal.org/node/2903629": "https://www.drupal.org/files/issues/allow_optional_config-2903629-14.patch"
            },
            "drupal/contact_storage": {
                "Conflict with other modules implementing same action plugin | https://www.drupal.org/node/2834490": "https://www.drupal.org/files/issues/contact-storage-action-namepsace-2834490-6.patch"
            },
            "drupal/content_browser": {
                "Combined Content Browser patch | https://www.drupal.org/node/2851687": "https://www.drupal.org/files/issues/content-browser-2851687-2903529-combined-3.patch"
            },
            "drupal/ctools": {
                "Avoid unserialization of blockPluginCollection in BlockDisplayVariant. | https://www.drupal.org/node/2831521": "https://www.drupal.org/files/issues/ctools-unserialize-plugin-collection-2831521-1.patch"
            },
            "drupal/entity_block": {
                "Add UUID support. | http://drupal.org/node/2834377": "https://www.drupal.org/files/issues/2018-03-12/add-uuid-support-2834377-3.patch"
            },
            "drupal/entity_browser": {
                "Fixed the issue of Call to a member function getConfigDependencyKey() on null | https://www.drupal.org/node/2845037": "https://www.drupal.org/files/issues/2845037-4.patch",
                "Quick edit compatibility | https://www.drupal.org/node/2733605": "https://www.drupal.org/files/issues/entity-browser-quickedit-2733605.patch",
                "Combined patch | https://www.drupal.org/node/2825555 and https://www.drupal.org/node/2877751": "https://www.drupal.org/files/issues/2018-03-27/2877751-17_2825555-8_combined_2.patch"
            },
            "drupal/entity_reference_revisions": {
                "Call to a member function hasTranslation() on null | https://www.drupal.org/project/entity_reference_revisions/issues/3016233": "https://www.drupal.org/files/issues/2018-11-26/hastranslation-on-null-3016233-2.patch"
            },
            "drupal/facets": {
                "facets_range_widget: 'TypeError: r.toFixed() is not a function' | https://www.drupal.org/project/facets/issues/2922151": "https://www.drupal.org/files/issues/facets_range_widget_js_error_toFixed_is_not_a_function-2922151-2.patch"
            },
            "drupal/material_admin": {
                "Array to string conversion in material_admin_preprocess_input | https://www.drupal.org/project/material_admin/issues/2989199": "https://www.drupal.org/files/issues/2018-10-19/material_admin-array_to_string_notice-2989199-5-D8.patch",
                "Prevent overriding the remove media button | https://www.drupal.org/project/material_admin/issues/2997996": "https://www.drupal.org/files/issues/2018-09-06/material_admin-media_library_remove_button-2997996-4.patch",
                "Media Library - Action buttons unstyled | https://www.drupal.org/project/material_admin/issues/3006121": "https://www.drupal.org/files/issues/2018-10-12/material_admin-media_library_buttons-3006121-1.patch"
            },
            "drupal/message_notify": {
                "MessageNotifierBase calling assert()... | https://www.drupal.org/node/2966213": "https://www.drupal.org/files/issues/2018-04-25/message_notify-8.x-1.x-MessageNotifierBase-send-assert-0.patch"
            },
            "drupal/panels": {
                "Remove hard-coded 'Custom' category from AppView.js | https://www.drupal.org/node/2839992": "https://www.drupal.org/files/issues/panels-ipe-remove-activeclick.patch",
                "Panels IPE won't animate the \"Toggle Preview\" effect if additional form classes are added by a theme | https://www.drupal.org/node/2847503": "https://www.drupal.org/files/issues/panels-ipe-improve-flipper-logic.patch",
                "Complex Block Plugin forms lead to incorrect temp store IDs in PanelsIPEBlockPluginForm | https://www.drupal.org/node/2875425": "https://www.drupal.org/files/issues/panels-ipe-cache-temp-store-id.patch",
                "Search inside IPE no longer works and splits out Uncaught TypeError: Cannot read property 'toLowerCase' | https://www.drupal.org/project/panels/issues/2824508": "https://www.drupal.org/files/issues/panels-ipe-search-2824508-8.patch"
            },
            "drupal/responsive_preview": {
              "Preview url in js is relative path | https://www.drupal.org/project/responsive_preview/issues/2929331": "https://www.drupal.org/files/issues/2018-04-02/preview_path-2929331-6.patch"
            },
            "drupal/zurb_foundation": {
                "Upgrade from layout plugin to Layout API / Layout discovery | https://www.drupal.org/node/2871479": "https://www.drupal.org/files/issues/accommodate-layout-changes-2871479-3.patch"
            },
            "lite": {
                "CKLite interferes with content insertion | http://drupal.org/node/2482879": "https://www.drupal.org/files/issues/cklite-content-insertion-2482879-4.patch"
            }
        },
        "patches-ignore": {
            "drupal/lightning_media": {
                "drupal/entity_browser": {
                    "2877751 - Inform users how many items they can add to a field that uses an entity browser": "https://www.drupal.org/files/issues/2877751-27-8.x-2.x.patch"
                }
            }
        }
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true,
        "platform": {
            "php": "7.0.8"
        }
    }
}
